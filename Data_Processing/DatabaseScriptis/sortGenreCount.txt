-- FUNCTION: public.sortgenre_count(integer)

-- DROP FUNCTION IF EXISTS public.sortgenre_count(integer);

CREATE OR REPLACE FUNCTION public.sortgenre_count(
	genreid integer)
    RETURNS SETOF bigint 
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE PARALLEL UNSAFE
    ROWS 1000

AS $BODY$

BEGIN
    IF genreID = 0 THEN
    RETURN QUERY
        SELECT COUNT("Id")
        FROM "Game";
    ELSE
    RETURN QUERY
        SELECT COUNT("Id")
        FROM "Game"
        WHERE "Game"."Genre" = genreID;
    END IF;
END 
$BODY$;

ALTER FUNCTION public.sortgenre_count(integer)
    OWNER TO postgres;
